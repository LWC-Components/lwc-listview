<template>
    <div class="slds-page-header">
        <div class="slds-page-header__row">
            <div class="slds-page-header__col-title">
                <div class="slds-media">
                    <lightning-icon class="slds-media__figure" icon-name={iconName} alternative-text={objectName}></lightning-icon>
                    <h1><span class="slds-page-header__title">{objectName} List View</span></h1>
                </div>
            </div>
            <div>
                <c-mass-actions mass-actions={massActions} record-fields={availableFields} sobject={objectName} onmassactionevent={handleMassActionsEvent}></c-mass-actions>
            </div>
        </div>
        <div class="slds-page-header__row">
            <div class="slds-page-header__col-meta">
                <p class="slds-page-header__meta-text">{iconSectionText}</p>
                <p class="slds-page-header__meta-text row-count-font">{selectedRowsCount}</p>
            </div>
            <div class="slds-page-header__col-controls">
                <div class="slds-page-header__controls">
                    <div class="slds-page-header__control">
                        <div class="search-in-list slds-m-left_large slds-is-relative" onkeyup={handleSearch} onclick={handleSearch}>
                            <lightning-input
                                name="enter-search"
                                label="Press the 'enter' key to search"
                                type="search"
                            ></lightning-input>
                        </div>
                    </div>
                    <div class="slds-page-header__control slds-align-bottom">
                        <lightning-button-menu class="slds-m-left_xx-small slds-m-left--xx-small" onselect={handleOptions} alternative-text="Show menu" variant="border-filled" icon-name="utility:settings">
                                <lightning-menu-item  value="fields-to-display" label="Fields To Display"></lightning-menu-item>
                        </lightning-button-menu>
                    </div>
                    <div class="slds-page-header__control slds-align-bottom">
                        <lightning-button-icon class="slds-m-left_xx-small slds-m-left--xx-small"
                            icon-name="utility:refresh"
                            onclick={handleRefresh}
                            variant="border-filled"
                            alternative-text="Refresh">
                        </lightning-button-icon>
                    </div>
                    <div class="slds-page-header__control slds-align-bottom">
                        <lightning-button-icon-stateful class="slds-m-left_xx-small slds-m-left--xx-small"
                            icon-name="utility:filterList"
                            variant="border-filled"
                            onclick={showFilterOption}
                            selected={showFilters}
                            alternative-text="show filter options">
                        </lightning-button-icon-stateful>
                    </div>
                    <template if:true={showfieldselection}>
                        <c-field-selection availablefields={_fieldsForSelection} onclosemodal={toggleFieldsSelectionComponent} onupdatedfieldsselection={handleFieldsUpdate}></c-field-selection>
                    </template>
                </div>
            </div>
        </div>
    </div>
</template>